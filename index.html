<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masafumi & Nao's Wedding</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Noto+Serif+JP:wght@300;500&display=swap" rel="stylesheet">
    <style>
        /* --- デザイン変数 --- */
        :root {
            --bg-color: #2c2c2c;
            --card-bg: #3a3a3a;
            --text-main: #f5f5dc;
            --text-muted: #bdbdbd;
            --accent-color: #d4af37;
            --font-en: 'Cormorant Garamond', serif;
            --font-jp: 'Noto Serif JP', serif;
        }

        /* --- ベース設定 --- */
        body {
            margin: 0; padding: 0;
            font-family: var(--font-jp);
            color: var(--text-main);
            background-color: var(--bg-color);
            line-height: 2.0;
            letter-spacing: 0.05em;
        }
        h1, h2, h3 { font-family: var(--font-en); font-weight: normal; margin: 0; color: var(--accent-color); }
        img { max-width: 100%; height: auto; display: block; }

        /* --- ヒーローセクション --- */
        .hero {
            height: 100vh; position: relative; display: flex;
            justify-content: center; align-items: center;
            overflow: hidden;
            border-bottom: 1px solid var(--accent-color);
        }
        .hero-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            /* PC用は変更なし */
            background: url('./header.jpg') no-repeat center 65%/cover;
            filter: brightness(0.5); z-index: 0;
        }
        .hero-content {
            position: relative; text-align: center; z-index: 10;
            padding: 80px 40px;
            border: 1px solid rgba(212, 175, 55, 0.5);
            background: rgba(44, 44, 44, 0.6);
            backdrop-filter: blur(2px);
            box-shadow: 0 0 30px rgba(0,0,0,0.3);
        }
        .hero h1 {
            font-size: 4.5rem; letter-spacing: 0.05em; margin-bottom: 15px;
            text-transform: uppercase;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
            color: #fff;
        }
        .hero .sub-title {
            font-size: 1.3rem; letter-spacing: 0.3em; margin-bottom: 25px; display: block;
            color: var(--accent-color);
        }
        .hero .location {
            font-family: var(--font-jp); font-size: 1rem; margin-top: 30px;
            display: inline-block; border-top: 1px solid var(--accent-color); padding-top: 15px;
            color: var(--text-muted);
        }

        /* --- セクション共通 --- */
        section { padding: 100px 20px; max-width: 1000px; margin: 0 auto; }
        .section-head { text-align: center; margin-bottom: 60px; }
        .section-head h2 {
            font-size: 3rem; margin-bottom: 15px; letter-spacing: 0.1em;
            background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            -webkit-background-clip: text;
            color: transparent;
        }
        .section-head span {
            font-size: 0.9rem; color: var(--text-muted); display: block;
            font-family: var(--font-en); text-transform: uppercase; letter-spacing: 0.3em;
        }

        /* --- Message --- */
        .message p {
            text-align: center; margin-bottom: 2em; font-size: 1.1rem;
            line-height: 2.4;
        }
        .sign {
            text-align: right; font-family: var(--font-en); font-size: 1.8rem;
            color: var(--accent-color); margin-top: 50px; font-style: italic;
        }

        /* --- Biography --- */
        .bio-container { display: flex; flex-direction: column; gap: 80px; }
        .bio-card {
            display: flex; align-items: center; gap: 50px;
            padding: 40px;
            background: var(--card-bg);
            border: 1px solid #4a4a4a;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border-radius: 8px;
        }
        .bio-card:nth-child(even) { flex-direction: row-reverse; text-align: right; }
        .bio-img { width: 280px; flex-shrink: 0; position: relative; }
        .bio-img img {
            width: 100%; height: 350px; object-fit: cover;
            border: 1px solid var(--accent-color);
            padding: 5px;
            background: var(--bg-color);
        }
        .bio-content { flex: 1; }
        .bio-content h3 { font-family: var(--font-jp); font-size: 2rem; margin-bottom: 5px; color: #fff; }
        .bio-content .name-en { font-family: var(--font-en); color: var(--accent-color); font-size: 1.2rem; display: block; margin-bottom: 30px; }
        
        .bio-list { list-style: none; padding: 0; margin: 0; font-size: 1rem; color: var(--text-main); }
        .bio-list li { margin-bottom: 15px; border-bottom: 1px solid #4a4a4a; padding-bottom: 10px; }
        .bio-list strong {
            color: var(--accent-color); font-weight: 500; font-size: 0.9rem; letter-spacing: 0.1em;
            display: block;
            margin-bottom: 5px;
        }

        /* --- Gallery --- */
        .gallery-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .gallery-item {
            position: relative; overflow: hidden;
            aspect-ratio: 1 / 1; cursor: pointer;
            border: 1px solid #4a4a4a;
            transition: border-color 0.3s;
            border-radius: 8px;
        }
        .gallery-item:hover { border-color: var(--accent-color); }
        .gallery-item img {
            width: 100%; height: 100%; object-fit: cover;
            transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            filter: brightness(0.9);
        }
        .gallery-item:hover img { transform: scale(1.1); filter: brightness(1); }
        
        .gallery-category {
            position: absolute; bottom: 0; left: 0; width: 100%;
            background: linear-gradient(to top, rgba(44,44,44,0.9), transparent);
            padding: 20px; box-sizing: border-box;
            color: #fff; text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            font-family: var(--font-en);
        }
        .gallery-category small { display: block; font-size: 0.7em; color: var(--accent-color); margin-top: 5px; }

        /* --- モーダル (アニメーション設定) --- */
        .modal {
            display: none; position: fixed; z-index: 200; left: 0; top: 0;
            width: 100%; height: 100%; overflow: hidden;
            background-color: rgba(44,44,44,0.98);
            touch-action: pan-y;
        }
        .modal-content {
            position: relative; margin: auto; padding: 0;
            width: 100%; max-width: 1200px; height: 100vh;
            display: flex; justify-content: center; align-items: center;
        }
        .mySlides {
            display: none; /* 基本非表示 */
            max-width: 90%; max-height: 85vh;
            object-fit: contain;
            border: 1px solid #4a4a4a; box-shadow: 0 0 50px rgba(0,0,0,0.5);
            background: var(--bg-color);
            user-select: none;
        }
        
        /* アニメーション定義 */
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* クラス付与でアニメーション発動 */
        .anim-right { animation: slideInRight 0.5s ease-out; }
        .anim-left { animation: slideInLeft 0.5s ease-out; }
        
        .close {
            color: var(--accent-color); position: absolute; top: 30px; right: 40px;
            font-size: 50px; font-weight: normal; cursor: pointer; z-index: 201;
            transition: color 0.3s;
        }
        .close:hover { color: #fff; }
        
        .prev, .next {
            cursor: pointer; position: absolute; top: 50%; width: auto;
            padding: 25px; margin-top: -50px; color: var(--accent-color);
            font-size: 40px; transition: 0.3s; user-select: none; z-index: 201;
            background: transparent;
        }
        .next { right: 20px; } .prev { left: 20px; }
        .prev:hover, .next:hover { color: #fff; transform: scale(1.2); }

        footer {
            background-color: #222; color: var(--text-muted);
            text-align: center; padding: 60px 20px;
            font-family: var(--font-en); letter-spacing: 0.2em;
            border-top: 1px solid #4a4a4a;
        }

        /* スマホ向け調整 */
        @media (max-width: 768px) {
            .hero { height: 50vh; min-height: 350px; }
            /* ★変更点：スマホでのヘッダー画像位置調整 */
            .hero-bg {
                /* 左40%（左寄せ）、縦50%（中央）に設定 */
                background-position: 40% 50%; 
            }
            .hero h1 { font-size: 2.4rem; line-height: 1.2; margin-bottom: 10px; }
            .hero .sub-title { font-size: 0.9rem; letter-spacing: 0.15em; }
            .hero-content { padding: 30px 15px; width: 90%; box-sizing: border-box; }

            section { padding: 60px 20px; }
            .section-head { margin-bottom: 40px; }
            .section-head h2 { font-size: 2.2rem; }

            .bio-container { gap: 40px; }
            .bio-card, .bio-card:nth-child(even) {
                flex-direction: column; text-align: left; gap: 20px; padding: 30px 20px;
            }
            .bio-img { width: 100%; }
            .bio-img img { width: 100%; height: auto; aspect-ratio: 1 / 1; }

            .gallery-grid { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }

            .prev, .next {
                font-size: 24px; padding: 15px; margin-top: -30px;
                background-color: rgba(0,0,0,0.4); border-radius: 4px;
            }
            .next { right: 10px; } .prev { left: 10px; }
            .close { top: 15px; right: 15px; font-size: 40px; }
        }
    </style>
</head>
<body>

    <div class="hero">
        <div class="hero-bg"></div>
        <div class="hero-content">
            <span class="sub-title">Welcome to Our Wedding</span>
            <h1>Masafumi & Nao</h1>
            <span class="location">KAMAKURA, JAPAN</span>
        </div>
    </div>

    <section class="message">
        <div class="section-head"><span>Message</span><h2>Greeting</h2></div>
        <p>
            本日は私たちの結婚式にお越しいただきありがとうございます。<br>
            ゆかりのある鎌倉で挙式を挙げられたことをとても嬉しく思います。<br>
            皆様にもお喜びいただけるよう準備してきましたので、ぜひ美味しい料理やお酒をお楽しみください。
        </p>
        <div class="sign">Masafumi & Nao</div>
    </section>

    <section class="biography">
        <div class="section-head"><span>Who we are</span><h2>Biography</h2></div>
        <div class="bio-container">
            <div class="bio-card">
                <div class="bio-img"><img src="./masafumi.jpg" alt="Masafumi"></div>
                <div class="bio-content">
                    <h3>萩原 将史</h3><span class="name-en">Masafumi Hagiwara</span>
                    <ul class="bio-list">
                        <li><strong>生年月日</strong> 1997年8月22日</li>
                        <li><strong>出身学部</strong> 文学部西洋史学専攻</li>
                        <li><strong>仕事</strong> システムエンジニア⇒ITコンサルタント</li>
                        <li>
                            <strong>趣味</strong>
                            旅、登山、キャンプ、スコッチ、オーディオ、シュノーケリング、ドライブ、散歩、思想史、生成AI、
                        </li>
                        <li>
                            <strong>Music</strong>
                            サザンオールスターズ、藤井風、Durdn、Herbie Hancock、Roy Hargrove、Eagles、VanHalen、Frank Zappa、Cimafunk、Fred Wesley、Poncho Sanchez、Santana 等
                        </li>
                    </ul>
                </div>
            </div>
            <div class="bio-card">
                <div class="bio-img"><img src="./なお.jpg" alt="Nao"></div>
                <div class="bio-content">
                    <h3>松山 奈生</h3><span class="name-en">Nao Matsuyama</span>
                    <ul class="bio-list">
                        <li><strong>生年月日</strong> 1996年7月16日</li>
                        <li><strong>出身学部</strong> 文学部美学美術史学専攻</li>
                        <li><strong>仕事</strong> システムエンジニア</li>
                        <li>
                            <strong>趣味</strong>
                            旅、登山、キャンプ、音楽、お酒
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section class="gallery">
        <div class="section-head"><span>Memories</span><h2>Gallery</h2></div>
        <div class="gallery-grid">
            <div class="gallery-item" onclick="openGallery('friends')">
                <img src="./sarcle1.jpg" alt="Music"><div class="gallery-category">Friends & Music <small>View Collection</small></div>
            </div>
            <div class="gallery-item" onclick="openGallery('jazz')">
                <img src="./jazz4.jpg" alt="Jazz"><div class="gallery-category">Jazz Life <small>View Collection</small></div>
            </div>
            <div class="gallery-item" onclick="openGallery('trekking')">
                <img src="./tozan30.jpg" alt="Mountain"><div class="gallery-category">Trekking <small>View Collection</small></div>
            </div>
            <div class="gallery-item" onclick="openGallery('family')">
                <img src="./neko3.jpg" alt="Cat"><div class="gallery-category">Family <small>View Collection</small></div>
            </div>
            <div class="gallery-item" onclick="openGallery('scenery')">
                <img src="./izu1.jpg" alt="View"><div class="gallery-category">Scenery <small>View Collection</small></div>
            </div>
            <div class="gallery-item" onclick="openGallery('travel')">
                <img src="./tohoku1.jpg" alt="Travel"><div class="gallery-category">Travel & Others <small>View Collection</small></div>
            </div>
        </div>
    </section>

    <div id="friendsModal" class="modal">
        <span class="close" onclick="closeGallery('friends')">&times;</span>
        <div class="modal-content">
            <img class="mySlides friends-slide" src="./PB080017.jpg">
            <img class="mySlides friends-slide" src="./sarcle1.jpg">
            <img class="mySlides friends-slide" src="./sarcle2.jpg">
            <img class="mySlides friends-slide" src="./sarcle3.jpg">
            <img class="mySlides friends-slide" src="./sarcle4.jpg">
            <img class="mySlides friends-slide" src="./sarcle5.png">
            <img class="mySlides friends-slide" src="./sarcle6.jpg">
            <img class="mySlides friends-slide" src="./sarcle7.jpg">
            <img class="mySlides friends-slide" src="./sarcle8.jpg">
            <img class="mySlides friends-slide" src="./sarcle9.jpg">
            <a class="prev" onclick="plusSlides(-1, 'friends')">&#10094;</a><a class="next" onclick="plusSlides(1, 'friends')">&#10095;</a>
        </div>
    </div>

    <div id="jazzModal" class="modal">
        <span class="close" onclick="closeGallery('jazz')">&times;</span>
        <div class="modal-content">
            <img class="mySlides jazz-slide" src="./jazz1.jpg">
            <img class="mySlides jazz-slide" src="./jazz2.jpg">
            <img class="mySlides jazz-slide" src="./jazz3.jpg">
            <img class="mySlides jazz-slide" src="./jazz4.jpg">
            <img class="mySlides jazz-slide" src="./jazz5.jpg">
            <img class="mySlides jazz-slide" src="./jazz6.jpg">
            <img class="mySlides jazz-slide" src="./jazz7.jpg">
            <img class="mySlides jazz-slide" src="./jazz8.jpg">
            <a class="prev" onclick="plusSlides(-1, 'jazz')">&#10094;</a><a class="next" onclick="plusSlides(1, 'jazz')">&#10095;</a>
        </div>
    </div>

    <div id="trekkingModal" class="modal">
        <span class="close" onclick="closeGallery('trekking')">&times;</span>
        <div class="modal-content">
            <img class="mySlides trekking-slide" src="./tozan1.jpg">
            <img class="mySlides trekking-slide" src="./tozan2.jpg">
            <img class="mySlides trekking-slide" src="./tozan3.jpg">
            <img class="mySlides trekking-slide" src="./tozan4.jpg">
            <img class="mySlides trekking-slide" src="./tozan5.jpg">
            <img class="mySlides trekking-slide" src="./tozan6.jpg">
            <img class="mySlides trekking-slide" src="./tozan7.jpg">
            <img class="mySlides trekking-slide" src="./tozan8.jpg">
            <img class="mySlides trekking-slide" src="./tozan9.jpg">
            <img class="mySlides trekking-slide" src="./tozan10.jpg">
            <img class="mySlides trekking-slide" src="./tozan11.jpg">
            <img class="mySlides trekking-slide" src="./tozan12.jpg">
            <img class="mySlides trekking-slide" src="./tozan13.jpg">
            <img class="mySlides trekking-slide" src="./tozan14.jpg">
            <img class="mySlides trekking-slide" src="./tozan15.jpg">
            <img class="mySlides trekking-slide" src="./tozan16.jpg">
            <img class="mySlides trekking-slide" src="./tozan17.jpg">
            <img class="mySlides trekking-slide" src="./tozan18.jpg">
            <img class="mySlides trekking-slide" src="./tozan19.jpg">
            <img class="mySlides trekking-slide" src="./tozan20.jpg">
            <img class="mySlides trekking-slide" src="./tozan21.jpg">
            <img class="mySlides trekking-slide" src="./tozan22.jpg">
            <img class="mySlides trekking-slide" src="./tozan23.jpg">
            <img class="mySlides trekking-slide" src="./tozan24.jpg">
            <img class="mySlides trekking-slide" src="./tozan25.jpg">
            <img class="mySlides trekking-slide" src="./tozan26.jpg">
            <img class="mySlides trekking-slide" src="./tozan27.jpg">
            <img class="mySlides trekking-slide" src="./tozan28.jpg">
            <img class="mySlides trekking-slide" src="./tozan29.jpg">
            <img class="mySlides trekking-slide" src="./tozan30.jpg">
            <img class="mySlides trekking-slide" src="./tozan31.jpg">
            <img class="mySlides trekking-slide" src="./tozan32.jpg">
            <img class="mySlides trekking-slide" src="./tozan33.jpg">
            <img class="mySlides trekking-slide" src="./tozan34.jpg">
            <img class="mySlides trekking-slide" src="./tozan35.jpg">
            <img class="mySlides trekking-slide" src="./tozan38.jpg">
            <img class="mySlides trekking-slide" src="./tozan39.jpg">
            <img class="mySlides trekking-slide" src="./tozan40.jpg">
            <img class="mySlides trekking-slide" src="./tozan41.jpg">
            <a class="prev" onclick="plusSlides(-1, 'trekking')">&#10094;</a><a class="next" onclick="plusSlides(1, 'trekking')">&#10095;</a>
        </div>
    </div>

    <div id="familyModal" class="modal">
        <span class="close" onclick="closeGallery('family')">&times;</span>
        <div class="modal-content">
            <img class="mySlides family-slide" src="./neko1.jpg">
            <img class="mySlides family-slide" src="./neko2.jpg">
            <img class="mySlides family-slide" src="./neko3.jpg">
            <img class="mySlides family-slide" src="./neko4.jpg">
            <img class="mySlides family-slide" src="./neko5.jpg">
            <a class="prev" onclick="plusSlides(-1, 'family')">&#10094;</a><a class="next" onclick="plusSlides(1, 'family')">&#10095;</a>
        </div>
    </div>

    <div id="sceneryModal" class="modal">
        <span class="close" onclick="closeGallery('scenery')">&times;</span>
        <div class="modal-content">
            <img class="mySlides scenery-slide" src="./wakayama1.jpg">
            <img class="mySlides scenery-slide" src="./wakayama2.jpg">
            <img class="mySlides scenery-slide" src="./wakayama3.jpg">
            <img class="mySlides scenery-slide" src="./wakayama4.jpg">
            <img class="mySlides scenery-slide" src="./izu1.jpg">
            <img class="mySlides scenery-slide" src="./izu2.jpg">
            <img class="mySlides scenery-slide" src="./izu3.jpg">
            <img class="mySlides scenery-slide" src="./izu4.jpg">
            <img class="mySlides scenery-slide" src="./izu6.jpg">
            <img class="mySlides scenery-slide" src="./izu7.jpg">
            <img class="mySlides scenery-slide" src="./izu8.jpg">
            <img class="mySlides scenery-slide" src="./izu9.jpg">
            <img class="mySlides scenery-slide" src="./izu10.jpg">
            <img class="mySlides scenery-slide" src="./izu11.jpg">
            <img class="mySlides scenery-slide" src="./izu12.jpg">
            <img class="mySlides scenery-slide" src="./izu13.jpg">
            <img class="mySlides scenery-slide" src="./izu14.jpg">
            <img class="mySlides scenery-slide" src="./kamakura1.jpg">
            <img class="mySlides scenery-slide" src="./kamakura2.jpg">
            <img class="mySlides scenery-slide" src="./kamakura3.jpg">
            <img class="mySlides scenery-slide" src="./kamakura4.jpg">
            <img class="mySlides scenery-slide" src="./kamakura5.jpg">
            <img class="mySlides scenery-slide" src="./kamakura6.jpg">
            <img class="mySlides scenery-slide" src="./kamakura7.jpg">
            <img class="mySlides scenery-slide" src="./tokushima1.jpg">
            <img class="mySlides scenery-slide" src="./tokushima2.jpg">
            <img class="mySlides scenery-slide" src="./tokushima3.jpg">
            <img class="mySlides scenery-slide" src="./tokushima4.jpg">
            <img class="mySlides scenery-slide" src="./tokushima5.jpg">
            <img class="mySlides scenery-slide" src="./tokushima6.jpg">
            <a class="prev" onclick="plusSlides(-1, 'scenery')">&#10094;</a><a class="next" onclick="plusSlides(1, 'scenery')">&#10095;</a>
        </div>
    </div>

    <div id="travelModal" class="modal">
        <span class="close" onclick="closeGallery('travel')">&times;</span>
        <div class="modal-content">
            <img class="mySlides travel-slide" src="./tohoku1.jpg">
            <img class="mySlides travel-slide" src="./tohoku2.jpg">
            <img class="mySlides travel-slide" src="./tohoku5.jpg">
            <img class="mySlides travel-slide" src="./kinjo1.jpg">
            <img class="mySlides travel-slide" src="./kinjo2.jpg">
            <img class="mySlides travel-slide" src="./kinjo3.jpg">
            <img class="mySlides travel-slide" src="./kinjo4.jpg">
            <img class="mySlides travel-slide" src="./kinjo5.jpg">
            <img class="mySlides travel-slide" src="./kinjo6.jpg">
            <img class="mySlides travel-slide" src="./kinjo7.jpg">
            <img class="mySlides travel-slide" src="./kinjo8.jpg">
            <img class="mySlides travel-slide" src="./sonota1.jpg">
            <img class="mySlides travel-slide" src="./sonota2.jpg">
            <img class="mySlides travel-slide" src="./sonota3.jpg">
            <img class="mySlides travel-slide" src="./sonota4.jpg">
            <img class="mySlides travel-slide" src="./sonota5.jpg">
            <img class="mySlides travel-slide" src="./sonota6.jpg">
            <img class="mySlides travel-slide" src="./sonota7.jpg">
            <img class="mySlides travel-slide" src="./sonota8.jpg">
            <img class="mySlides travel-slide" src="./sonota9.jpg">
            <img class="mySlides travel-slide" src="./sonota11.jpg">
            <img class="mySlides travel-slide" src="./sonota12.jpg">
            <a class="prev" onclick="plusSlides(-1, 'travel')">&#10094;</a><a class="next" onclick="plusSlides(1, 'travel')">&#10095;</a>
        </div>
    </div>

    <footer><p>&copy; Masafumi & Nao</p></footer>

    <script>
        var slideIndices = { 'friends': 1, 'jazz': 1, 'trekking': 1, 'family': 1, 'scenery': 1, 'travel': 1 };
        var currentGalleryType = '';
        var autoSlideTimer = null;

        function openGallery(type) {
            currentGalleryType = type;
            document.getElementById(type + "Modal").style.display = "block";
            showSlides(slideIndices[type], type, 'next');
            startAutoSlide();
        }

        function closeGallery(type) {
            document.getElementById(type + "Modal").style.display = "none";
            currentGalleryType = '';
            stopAutoSlide();
        }

        function plusSlides(n, type) {
            stopAutoSlide();
            var direction = (n > 0) ? 'next' : 'prev';
            showSlides(slideIndices[type] += n, type, direction);
            startAutoSlide();
        }

        function showSlides(n, type, direction) {
            var i;
            var slides = document.getElementsByClassName(type + "-slide");
            if (n > slides.length) { slideIndices[type] = 1 }
            if (n < 1) { slideIndices[type] = slides.length }
            
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
                slides[i].classList.remove("anim-right", "anim-left");
            }
            
            var currentSlide = slides[slideIndices[type] - 1];
            currentSlide.style.display = "block";
            
            if (direction === 'prev') {
                currentSlide.classList.add("anim-left");
            } else {
                currentSlide.classList.add("anim-right");
            }
        }

        function startAutoSlide() {
            stopAutoSlide();
            autoSlideTimer = setInterval(() => {
                if (currentGalleryType) {
                    showSlides(slideIndices[currentGalleryType] += 1, currentGalleryType, 'next');
                }
            }, 3000);
        }

        function stopAutoSlide() {
            if (autoSlideTimer) {
                clearInterval(autoSlideTimer);
                autoSlideTimer = null;
            }
        }

        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                var modals = document.getElementsByClassName('modal');
                for (var i = 0; i < modals.length; i++) {
                    modals[i].style.display = "none";
                }
                currentGalleryType = '';
                stopAutoSlide();
            }
        }

        // --- スマホ用スワイプ処理 ---
        let touchStartX = 0;
        let touchEndX = 0;

        const modalContents = document.querySelectorAll('.modal');

        modalContents.forEach(modal => {
            modal.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
                stopAutoSlide();
            }, {passive: true});

            modal.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
                startAutoSlide();
            }, {passive: true});
        });

        function handleSwipe() {
            if (!currentGalleryType) return;
            if (touchEndX < touchStartX - 50) {
                showSlides(slideIndices[currentGalleryType] += 1, currentGalleryType, 'next');
            }
            if (touchEndX > touchStartX + 50) {
                showSlides(slideIndices[currentGalleryType] -= 1, currentGalleryType, 'prev');
            }
        }
    </script>
</body>
</html>